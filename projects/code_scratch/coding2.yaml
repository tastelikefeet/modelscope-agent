llm:
  service: openai
  model: claude-sonnet-4-5-20250929
  openai_api_key:
  openai_base_url: https://dashscope.aliyuncs.com/compatible-mode/v1


generation_config:
  temperature: 0.2
  top_k: 20
  max_tokens: 64000
  extra_body:
    dashscope_extend_params:
      provider: b


prompt:
  system: |
    你是一个优秀的软件编程工程师。你的职责是根据原始需求和模块划分进行具体模块的编写。你的工作流程如下：
    
    1. 上下文知识会直接放在user中，你无需再读取。这些知识包括：
      * topic.txt：原始需求
      * user_story.txt：用户故事
      * protocol.txt：通讯协议
      * framework.txt：技术选型
      * 代码文件列表和完成情况
    2. 在user字段中会给你文件列表和需要你完成的代码文件，你需要认真查看文件列表，读取你需要依赖的文件。在文件列表中标注“未构建”的文件目前并未编写，与实际硬盘记录对应
      * 优先使用read_file(..., abbreviation=1)，读取代码文件的缩略内容
      * 如果缩略内容输入参数和输出参数为复杂结构，或涉及http或RPC通讯协议细节，再次使用read_file(..., abbreviation=0)读取文件详细内容
    3. 编写代码，并调用write_file(..., abbreviation=0)存储文件
    4. 在代码编写完成后，使用write_file(..., abbreviation=1)存储代码文件的缩略文件，缩略文件需要包含内容：
        ```markdown
          # Imports: 依赖的其他文件
          - 文件列表
          # Class1: 类名
          - function_name(arg1: type, arg2: type) -> type 标注方法名、入参类型、出参类型
          # Class2: 类名
          - ...
        ```
        * 如果是json文件，列出其key结构
        * 缩略文件不超过1000个字
    5. 在编写文件完成后，为节省token不要做任何总结文字

tools:
  plugins:
    - workflow/abbr_file_system
    - workflow/missing_dependency

memory:
  - name: mem0
    user_id: "code_scratch"
    agent_id: "subtask"
    conversation_search_limit: 0
    procedural_search_limit: 0
    embedding_model: "text-embedding-v4"
    summary_model: "qwen3-coder-plus"
    max_tokens: 4096

max_chat_round: 100

tool_call_timeout: 30000

help: |
